<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.aisino.passport.sys.dao.IAosUserDutyDao">

	<select id="findList" parameterType="AosUserDuty" resultType="AosUserDuty" >
		select 
				t.id, t.userid, t.dutyid, t.createdate, t.createby, t.available, t.ismain, d.dutyname
			from aos_user_duty t 
			left join aos_duty d on d.dutyid = t.dutyid
			where 1 = 1  
			<if test="id != null and id !=''"> and 
				t.id = #{id}
			</if>
			<if test="userid != null and userid !=''"> and 
				t.userid = #{userid}
			</if>
			<if test="dutyid != null and dutyid !=''"> and 
				t.dutyid = #{dutyid}
			</if>
			<if test="createdate != null and createdate !=''"> and 
				t.createdate = #{createdate}
			</if>
			<if test="createby != null and createby !=''"> and 
				t.createby = #{createby}
			</if>
			<if test="available != null and available !=''"> and 
				t.available = ${available}
			</if>
			<if test="ismain != null and ismain !=''"> and 
				t.ismain = ${ismain}
			</if>
			order by t.createdate desc
	</select>

	<select id="get" parameterType="AosUserDuty" resultType="AosUserDuty" >
		select 
				t.id, t.userid, t.dutyid, t.createdate, t.createby, t.available, t.ismain, d.dutyname
			from aos_user_duty t 
			left join aos_duty d on d.dutyid = t.dutyid
			where 1 = 1  
			<if test="id != null and id !=''"> and 
				t.id = #{id}
			</if>
			<if test="userid != null and userid !=''"> and 
				t.userid = #{userid}
			</if>
			<if test="dutyid != null and dutyid !=''"> and 
				t.dutyid = #{dutyid}
			</if>
			<if test="createdate != null and createdate !=''"> and 
				t.createdate = #{createdate}
			</if>
			<if test="createby != null and createby !=''"> and 
				t.createby = #{createby}
			</if>
			<if test="available != null and available !=''"> and 
				t.available = ${available}
			</if>
			<if test="ismain != null and ismain !=''"> and 
				t.ismain = ${ismain}
			</if>
	</select>

	<insert id="insert" parameterType="AosUserDuty">
		insert into aos_user_duty
			(id 
		<if test="userid != null and userid !=''"> , userid</if>
		<if test="dutyid != null and dutyid !=''"> , dutyid</if>
		<if test="createdate != null and createdate !=''"> , createdate</if>
		<if test="createby != null and createby !=''"> , createby</if>
		<if test="available != null and available !=''"> , available</if>
		<if test="ismain != null and ismain !=''"> , ismain</if>
		)
		values 			(#{id} 
		<if test="userid != null and userid !=''"> , #{userid}</if>
		<if test="dutyid != null and dutyid !=''"> , #{dutyid}</if>
		<if test="createdate != null and createdate !=''"> , #{createdate}</if>
		<if test="createby != null and createby !=''"> , #{createby}</if>
		<if test="available != null and available !=''"> , ${available}</if>
		<if test="ismain != null and ismain !=''"> , ${ismain}</if>
		)

	</insert>

	<update id="update" parameterType="AosUserDuty">
		update aos_user_duty 
			set id   = #{id}

				<if test="userid != null and userid !=''"> , userid = #{userid}</if>
				<if test="dutyid != null and dutyid !=''"> , dutyid = #{dutyid}</if>
				<if test="createdate != null and createdate !=''"> , createdate = #{createdate}</if>
				<if test="createby != null and createby !=''"> , createby = #{createby}</if>
				<if test="available != null and available !=''"> , available = ${available}</if>
				<if test="ismain != null and ismain !=''"> , ismain = ${ismain}</if>
		where id = #{id}
	</update>

	<delete id="delete" parameterType="AosUserDuty">
		delete from aos_user_duty  where userid = #{userid}
	</delete>

</mapper>
