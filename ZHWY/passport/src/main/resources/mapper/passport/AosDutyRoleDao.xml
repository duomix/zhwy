<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.aisino.passport.sys.dao.IAosDutyRoleDao">

	<select id="findList" parameterType="AosDutyRole" resultType="AosDutyRole" >
		select 
				t.id, t.dutyid, t.roleid,r.rolename, t.createdate, t.createby, t.available
			from aos_duty_role t ,aos_role r
			
			where t.roleid = r.roleid
			<if test="id != null and id !=''"> and 
				t.id = #{id}
			</if>
			<if test="dutyid != null and dutyid !=''"> and 
				t.dutyid = #{dutyid}
			</if>
			<if test="roleid != null and roleid !=''"> and 
				t.roleid = #{roleid}
			</if>
			<if test="createdate != null and createdate !=''"> and 
				t.createdate = #{createdate}
			</if>
			<if test="createby != null and createby !=''"> and 
				t.createby = #{createby}
			</if>
			<if test="available != null and available !=''"> and 
				t.available = ${available}
			</if>
			order by t.createdate desc
	</select>

	<select id="get" parameterType="AosDutyRole" resultType="AosDutyRole" >
		select 
				t.id, t.dutyid, t.roleid, t.createdate, t.createby, t.available
			from aos_duty_role t 
			
			where 1 = 1  
			<if test="id != null and id !=''"> and 
				t.id = #{id}
			</if>
			<if test="dutyid != null and dutyid !=''"> and 
				t.dutyid = #{dutyid}
			</if>
			<if test="roleid != null and roleid !=''"> and 
				t.roleid = #{roleid}
			</if>
			<if test="createdate != null and createdate !=''"> and 
				t.createdate = #{createdate}
			</if>
			<if test="createby != null and createby !=''"> and 
				t.createby = #{createby}
			</if>
			<if test="available != null and available !=''"> and 
				t.available = ${available}
			</if>
	</select>

	<insert id="insert" parameterType="AosDutyRole">
		insert into aos_duty_role
			(id 
		<if test="dutyid != null and dutyid !=''"> , dutyid</if>
		<if test="roleid != null and roleid !=''"> , roleid</if>
		<if test="createdate != null and createdate !=''"> , createdate</if>
		<if test="createby != null and createby !=''"> , createby</if>
		<if test="available != null and available !=''"> , available</if>
		)
		values 			(#{id} 
		<if test="dutyid != null and dutyid !=''"> , #{dutyid}</if>
		<if test="roleid != null and roleid !=''"> , #{roleid}</if>
		<if test="createdate != null and createdate !=''"> , #{createdate}</if>
		<if test="createby != null and createby !=''"> , #{createby}</if>
		<if test="available != null and available !=''"> , ${available}</if>
		)

	</insert>

	<update id="update" parameterType="AosDutyRole">
		update aos_duty_role 
			set id   = #{id}

				<if test="dutyid != null and dutyid !=''"> , dutyid = #{dutyid}</if>
				<if test="roleid != null and roleid !=''"> , roleid = #{roleid}</if>
				<if test="createdate != null and createdate !=''"> , createdate = #{createdate}</if>
				<if test="createby != null and createby !=''"> , createby = #{createby}</if>
				<if test="available != null and available !=''"> , available = ${available}</if>
		where id = #{id}
	</update>

	<delete id="delete" parameterType="AosDutyRole">
		delete from aos_duty_role  where dutyid = #{dutyid}
	</delete>

</mapper>
